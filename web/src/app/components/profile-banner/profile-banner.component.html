<div class="ws-panel ws-profile-banner">
  <div class="main-area" [ngClass]="{ 'edit-mode': editMode }">
    <app-word-icon class="ws-profile-banner-avatar" [type]="'profile'" [palette]="avatarPalette"></app-word-icon>
    <div *ngIf="!editMode" class="ws-profile-banner-details">
      <h4>@{{profile?.username}}</h4>
      <p class="text-muted">Joined: {{ profile?.created | date: 'MMMM yyyy' }}</p>
    </div>
    <div *ngIf="editMode" class="ws-profile-banner-details">
      <app-username-validator *ngIf="editMode" [oldName]="profile?.username" (results)="validatorResults($event)"></app-username-validator>
      <div *ngIf="editMode" class="edit-actions">
        <button (click)="setEditMode(false)" class="btn btn-sm btn-link">Cancel</button>
        <button (click)="saveChanges()" class="btn btn-sm btn-wordshop" [ngClass]="{ disabled: !saveEnabled }">Save username</button>
      </div>
    </div>
    <div class="ws-profile-banner-edit" [ngClass]="{ 'edit-mode': editMode }">
      <div *ngIf="!editMode">
        <button (click)="setEditMode(true)" class="btn btn-link"><i class="fa fa-edit"></i></button>
      </div>
    </div>
  </div>
</div>
